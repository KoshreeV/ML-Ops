# -*- coding: utf-8 -*-
"""Software Programs/Application Development-Sagemaker and other ML cloud services.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1AYBbW3r-Ejwj3AllTFldycSMJpesAg8q
"""

import boto3
import os

endpoint_name = 'your-sagemaker-endpoint-name'
image_path = 'test_image.jpg'
aws_region = 'your_aws_region'
content_type = 'image/jpeg'

try:
    sagemaker_runtime = boto3.client('sagemaker-runtime', region_name=aws_region)
    if not os.path.exists(image_path):
        print(f"Error: Image file not found at {image_path}")
    else:
        with open(image_path, 'rb') as image_file:
            image_bytes = image_file.read()

        print(f"Sending image '{image_path}' to endpoint '{endpoint_name}'")
        response = sagemaker_runtime.invoke_endpoint(
            EndpointName=endpoint_name,
            ContentType=content_type,
            Body=image_bytes
        )

        result = response['Body'].read().decode('utf-8')

        print("-" * 20)
        print("Model Prediction:")
        print(result)

except Exception as e:
    print(f"An error occurred: {e}")